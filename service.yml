name: php-laravel
type: service
beta: true
from: php
title: PHP (Laravel)

containers:
- name: php
  image: wodby/laravel-php

update: auto

labels:
- laravel

options:
- version: '8.1'
  default: true
- version: '8.0'

links:
- name: redis
  title: Redis
  env:
  - name: QUEUE_CONNECTION
    value: redis
  selectors:
  - type: datastore
    labels:
    - redis

derivatives:
- name: php-laravel-queue
  icon: laravel
  title: Laravel Queue
  args: ['php', 'artisan', 'queue:listen']
  type: service
  default: true
  required: false
  
build:
  dockerfile: Dockerfile
  connect: true
  templates:
  - name: boilerplate
    title: Laravel Boilerplate
    repo: https://github.com/rappasoft/laravel-boilerplate
    tag: ^8
    pipeline: pipeline.yml
